<div class="signup-container">
  <div class="slideshow">
    <img [src]="'./assets/images/photo' + currentImage + '.png'" alt="Recipe Image" class="slide-image">
  </div>
  <div class="overlay">
    <div class="signup-card">
      <div class="signup-content">
        <div class="form-side">
          <h2>S'inscrire</h2>
          <form (ngSubmit)="onSubmit()" #signupForm="ngForm">
            <div class="form-group">
              <fa-icon [icon]="faUser" class="field-icon"></fa-icon>
              <input 
                type="text" 
                [(ngModel)]="firstName" 
                name="firstName" 
                placeholder="Prénom" 
                required
                #firstNameInput="ngModel">
              <div *ngIf="firstNameInput.invalid && (firstNameInput.dirty || firstNameInput.touched)" class="error-message">
                <div *ngIf="firstNameInput.errors?.['required']">Le prénom est requis.</div>
              </div>
            </div>
            <div class="form-group">
              <fa-icon [icon]="faUser" class="field-icon"></fa-icon>
              <input 
                type="text" 
                [(ngModel)]="lastName" 
                name="lastName" 
                placeholder="Nom" 
                required
                #lastNameInput="ngModel">
              <div *ngIf="lastNameInput.invalid && (lastNameInput.dirty || lastNameInput.touched)" class="error-message">
                <div *ngIf="lastNameInput.errors?.['required']">Le nom est requis.</div>
              </div>
            </div>
            <div class="form-group">
              <fa-icon [icon]="faEnvelope" class="field-icon"></fa-icon>
              <input 
                type="email" 
                [(ngModel)]="email" 
                name="email" 
                placeholder="Email" 
                required
                email
                #emailInput="ngModel">
              <div *ngIf="emailInput.invalid && (emailInput.dirty || emailInput.touched)" class="error-message">
                <div *ngIf="emailInput.errors?.['required']">L'email est requis.</div>
                <div *ngIf="emailInput.errors?.['email']">Veuillez entrer une adresse email valide.</div>
              </div>
            </div>
            <div class="form-group">
              <fa-icon [icon]="faLock" class="field-icon"></fa-icon>
              <input 
                type="password" 
                [(ngModel)]="password" 
                name="password" 
                placeholder="Mot de passe" 
                required
                minlength="8"
                #passwordInput="ngModel">
              <div *ngIf="passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)" class="error-message">
                <div *ngIf="passwordInput.errors?.['required']">Le mot de passe est requis.</div>
                <div *ngIf="passwordInput.errors?.['minlength']">Le mot de passe doit contenir au moins 8 caractères.</div>
              </div>
            </div>
            <div class="form-group">
              <fa-icon [icon]="faLock" class="field-icon"></fa-icon>
              <input 
                type="password" 
                [(ngModel)]="confirmPassword" 
                name="confirmPassword" 
                placeholder="Confirmer le mot de passe" 
                required
                #confirmPasswordInput="ngModel"
                [pattern]="password">
              <div *ngIf="confirmPasswordInput.invalid && (confirmPasswordInput.dirty || confirmPasswordInput.touched)" class="error-message">
                <div *ngIf="confirmPasswordInput.errors?.['required']">La confirmation du mot de passe est requise.</div>
                <div *ngIf="confirmPasswordInput.errors?.['pattern']">Les mots de passe ne correspondent pas.</div>
              </div>
            </div>
            <button type="submit" class="signup-btn" [disabled]="!signupForm.valid">S'inscrire</button>
            <div class="login-link">
              <span>Déjà un compte ? </span>
              <a routerLink="/login">Se connecter</a>
            </div>
          </form>
        </div>
        <div class="image-side">
          <img src="./assets/images/register.png" alt="Register">
        </div>
      </div>
    </div>
  </div>
</div>